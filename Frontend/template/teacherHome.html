<!doctype html>
<html lang="vi">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>H·ªá th·ªëng qu·∫£n l√Ω l·ªõp h·ªçc v√† sinh vi√™n</title>

    <!-- ‚úÖ D√πng url_for ƒë√∫ng c√∫ ph√°p FastAPI -->
    <link rel="stylesheet" href="{{ url_for('static', path='teacherHome.css') }}">
    <script defer src="{{ url_for('static', path='teacherHome.js') }}"></script>
    <script src="/static/login.js"></script>
</head>

<body>
  <!-- Header -->
  <header class="header">
    <div class="header-content">
      <div class="logo"> H·ªá th·ªëng qu·∫£n l√Ω l·ªõp h·ªçc</div>
      <nav class="nav-menu">
       
      </nav>
      <div class="header-buttons">
        <button class="edit-profile-btn" onclick="editProfile()">Ch·ªânh s·ª≠a th√¥ng tin</button>
        <button class="logout-btn" onclick="logout()">ƒêƒÉng xu·∫•t</button>
      </div>
    </div>
  </header>

  <div class="container">
    <!-- Trang ch·ªß: T·∫°o l·ªõp & danh s√°ch -->
    <section id="home" class="section active">
      <div class="create-class-form">
        <h2 class="form-title">T·∫°o l·ªõp h·ªçc m·ªõi</h2>
        <form id="create-class-form">
          <div class="form-grid">
            <div class="form-group">
              <label class="form-label">T√™n l·ªõp h·ªçc</label>
              <input type="text" id="class-name" class="form-input" required />
            </div>
            <div class="form-group">
              <label class="form-label">M√£ l·ªõp</label>
              <input type="text" id="class-code" class="form-input" required />
            </div>
            <div class="form-group">
              <label class="form-label">S·ªë l∆∞·ª£ng t·ªëi ƒëa</label>
              <input type="number" id="max-students" class="form-input" min="1" max="200" required />
            </div>
          </div>
          <button type="submit" class="create-btn">T·∫°o l·ªõp h·ªçc</button>
        </form>
      </div>

      <div class="classes-grid" id="classes-grid"></div>
    </section>
  </div>

  <!-- Modal chi ti·∫øt l·ªõp -->
  <div id="class-modal" class="modal hidden" role="dialog" aria-modal="true">
    <div class="modal-dialog">
      <div class="modal-header">
        <h3 id="modal-class-name"></h3>
        <button class="close-btn" onclick="closeModal()">‚úï</button>
      </div>
      <div class="modal-body">
        <div class="modal-top">
          <div><b>M√£ l·ªõp:</b> <span id="modal-class-code"></span></div>
          <div><b>M√£ tham gia:</b> <span id="modal-class-join-code"></span></div>
          <div><b>SV:</b> <span id="modal-count"></span>/<span id="modal-max"></span></div>
        </div>

        <div class="import-export">
          <input type="file" id="import-file" accept=".csv" style="display:none" onchange="importCSV(event)">
          <button class="create-btn small" onclick="triggerImport()">üì• Import CSV</button>
          <button class="create-btn small" onclick="exportCSV()">üì§ Export CSV</button>
          <button class="create-btn small danger" onclick="confirmDeleteClass()">üóëÔ∏è X√≥a l·ªõp</button>
        </div>

        <div class="add-student">
          <h4>Th√™m sinh vi√™n</h4>
          <div class="form-grid small">
            <input type="text" id="student-name" placeholder="H·ªç t√™n" />
            <input type="text" id="student-id" placeholder="M√£ SV" />
            <button id="add-student-btn" class="create-btn small">Th√™m</button>
          </div>
          <div id="add-student-warning" class="small-warning"></div>
        </div>

        <div class="student-list">
          <h4>Danh s√°ch sinh vi√™n</h4>
          <table class="student-table">
            <thead>
              <tr>
                <th>STT</th>
                <th>H·ªç t√™n</th>
                <th>M√£ SV</th>
                <th>Chuy√™n c·∫ßn</th>
                <th>Gi·ªØa k·ª≥</th>
                <th>Cu·ªëi k·ª≥</th>
                <th>Trung b√¨nh</th>
                <th>H√†nh ƒë·ªông</th>
              </tr>
            </thead>
            <tbody id="student-tbody"></tbody>
          </table>
        </div>
      </div>
      <div class="modal-footer">
        <button class="create-btn" onclick="closeModal()">ƒê√≥ng</button>
      </div>
    </div>
  </div>

  <div id="notif-container"></div>
  <script src="teacherHome.js"></script>
</body>
</html>
